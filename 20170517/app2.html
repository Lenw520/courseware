<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=noe, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Title</title>
</head>
<body>
通过注册方法的形式调端上的功能
  getapp.openView()
</body>
</html>
<script>
    //打开一个webview
    //注册的对象.getapp.openView(url)  端上可以操作window对象 然后把他们的一些方法注册上来

    function setupWebViewJavascriptBridge(callback) {
        if (window.WebViewJavascriptBridge) { return callback(WebViewJavascriptBridge); }
        if (window.WVJBCallbacks) { return window.WVJBCallbacks.push(callback); }
        window.WVJBCallbacks = [callback];
        var WVJBIframe = document.createElement('iframe');
        WVJBIframe.style.display = 'none';
        WVJBIframe.src = 'wvjbscheme://__BRIDGE_LOADED__';
        document.documentElement.appendChild(WVJBIframe);
        setTimeout(function() { document.documentElement.removeChild(WVJBIframe) }, 0)
    }

    setupWebViewJavascriptBridge(function(){})

    //调一个 打开扫一扫功能  第一步 让端上定义一个方法名openScan
    //针对安卓的调法
    window.WVJBCallbacks.openScan({param1:1,param2:2})
    //ios 交互传参 有个限制，不能传汉字 //转码  ios接收的就是转码后的东西，需要反转义
    WebViewJavascriptBridge.callHandler("openScan",{param1:1,param2:2})
    //写个全局的js函数，端上就能执行

  alert(WebViewJavascriptBridge)//如果不存在，就代码没注入上 端上没写对应的处理
</script>